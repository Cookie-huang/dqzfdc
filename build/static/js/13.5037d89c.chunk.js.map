{"version":3,"sources":["pages/HouseNews/index.module.scss","pages/HouseNews/index.jsx"],"names":["module","exports","houseNews_container","search_container","newsContent","loading","Search","antd_es_input__WEBPACK_IMPORTED_MODULE_23__","HouseNews","props","_this","Object","E_Demo_dqzfdc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_16__","this","E_Demo_dqzfdc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__","E_Demo_dqzfdc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__","call","state","currentMenu","page","value","handleClickMenu","bind","E_Demo_dqzfdc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_20__","handleChangePage","handleSearch","getNewsCategory","getNewsList","_this2","_this$props","categoryList","newsList","total_count","react__WEBPACK_IMPORTED_MODULE_24___default","a","createElement","className","style","antd_es_row__WEBPACK_IMPORTED_MODULE_9__","type","align","antd_es_col__WEBPACK_IMPORTED_MODULE_15__","span","offset","placeholder","onSearch","enterButton","size","antd_es_breadcrumb__WEBPACK_IMPORTED_MODULE_11__","separator","Item","antd_es_icon__WEBPACK_IMPORTED_MODULE_13__","antd_es_menu__WEBPACK_IMPORTED_MODULE_7__","onClick","selectedKeys","mode","key","map","item","get","antd_es_list__WEBPACK_IMPORTED_MODULE_5__","itemLayout","dataSource","renderItem","extra","width","height","alt","src","Meta","title","description","description_container","WebkitBoxOrient","replace","slice","antd_es_pagination__WEBPACK_IMPORTED_MODULE_3__","defaultPageSize","current","hideOnSinglePage","showQuickJumper","total","onChange","antd_es_spin__WEBPACK_IMPORTED_MODULE_1__","e","_this3","console","log","setState","_this4","pageNumber","_this5","changeLoading","window","scrollTo","top","left","behavior","React","Component","connect","getIn","dispatch","actionCreators","category","actionTypes","CHANGE_LOADING"],"mappings":"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","file":"static/js/13.5037d89c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"houseNews_container\":\"HouseNews_houseNews_container__ZfxW7\",\"search_container\":\"HouseNews_search_container__2E6xv\",\"newsContent\":\"HouseNews_newsContent__GD6WZ\",\"loading\":\"HouseNews_loading__Eiy2u\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n// import { Link } from 'react-router-dom';\r\nimport { actionCreators } from './store';\r\nimport { actionTypes } from './store';\r\nimport { Row, Col, Input, Breadcrumb, Icon, Pagination, List, Menu, Spin } from 'antd';\r\n\r\nimport style from './index.module.scss';\r\nimport './index.scss';\r\n\r\nconst Search = Input.Search;\r\n\r\nclass HouseNews extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentMenu: '0',\r\n            page: 1,\r\n            value: '',\r\n        }\r\n        this.handleClickMenu = this.handleClickMenu.bind(this);\r\n        this.handleChangePage = this.handleChangePage.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getNewsCategory();\r\n        this.props.getNewsList(this.state.currentMenu, 1, this.state.value);\r\n    }\r\n\r\n    render() {\r\n        const { categoryList, newsList, total_count, loading } = this.props;\r\n        return (\r\n            <div className={[style.houseNews_container] + \" houseNews_container\"}>\r\n                <Row type=\"flex\" align=\"bottom\" className={style.search_container}>\r\n                    <Col span={12} offset={4}>\r\n                        <Search placeholder=\"请输入资讯关键字搜索\" onSearch={value => this.handleSearch(value)} enterButton size=\"large\" />\r\n                    </Col>\r\n                    <Col span={14} offset={4}>\r\n                        <Breadcrumb separator=\">\">\r\n                            <Breadcrumb.Item><Icon type=\"home\" />大泉州房地产</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>资讯</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span={16} offset={4}>\r\n                        <Menu onClick={this.handleClickMenu} selectedKeys={[this.state.currentMenu]} mode=\"horizontal\">\r\n                            <Menu.Item key='0'>全部</Menu.Item>\r\n                            {\r\n                                categoryList.map(item => {\r\n                                    return <Menu.Item key={item.get('Id')}>{item.get('Name')}</Menu.Item>\r\n                                })\r\n                            }\r\n                        </Menu>\r\n                        <List\r\n                            itemLayout=\"vertical\"\r\n                            size=\"default\"\r\n                            dataSource={newsList}\r\n                            renderItem={item => (\r\n                                <List.Item\r\n                                    key={item.get(\"Id\")}\r\n                                    extra={\r\n                                        <img\r\n                                            width={240}\r\n                                            height={145}\r\n                                            alt=\"CoverImg\"\r\n                                            src={item.get(\"CoverImg\")}\r\n                                        />\r\n                                    }\r\n                                >\r\n                                    <List.Item.Meta\r\n                                        title={item.get(\"TheTitle\")}\r\n                                        description={<div className={[style.description_container]}><div><Icon type=\"sound\" />来源：{item.get(\"Source\")}{item.get('Created')}</div><div style={{ \"WebkitBoxOrient\": \"vertical\" }} className={style.newsContent}>{item.get('PCNewsContent').replace(/<[^>]+>/gim, \"\").slice(10)}</div></div>}\r\n                                    />\r\n                                </List.Item>\r\n                            )}\r\n                        />\r\n                        <Pagination defaultPageSize={5} current={this.state.page} hideOnSinglePage={true} showQuickJumper total={total_count} onChange={this.handleChangePage} />\r\n                    </Col>\r\n                </Row>\r\n                {\r\n                    loading ? <div className={[style.loading]}><Spin size=\"large\" /></div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleClickMenu(e) {\r\n        console.log(e.key);\r\n        this.setState({\r\n            currentMenu: e.key,\r\n        }, () => {\r\n            this.handleChangePage(1)\r\n        });\r\n    }\r\n\r\n\r\n    handleSearch(value) {\r\n        this.setState({\r\n            value\r\n        }, () => {\r\n            this.handleChangePage(1)\r\n        })\r\n    }\r\n\r\n    handleChangePage(pageNumber) {\r\n        this.props.changeLoading();\r\n        this.setState({\r\n            page: pageNumber,\r\n            loading: true\r\n        }, () => {\r\n            this.props.getNewsList(this.state.currentMenu, this.state.page, this.state.value);\r\n        })\r\n        window.scrollTo({\r\n            top: 208,\r\n            left: 0,\r\n            behavior: \"instant\"\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        categoryList: state.getIn(['houseNews', 'categoryList']),\r\n        newsList: state.getIn(['houseNews', 'newsList']),\r\n        total_count: state.getIn(['houseNews', 'total_count']),\r\n        loading: state.getIn(['houseNews', 'loading'])\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getNewsCategory() {\r\n            dispatch(actionCreators.getNewsCategory());\r\n        },\r\n        getNewsList(category, page, value) {\r\n            dispatch(actionCreators.getNewsList(category, page, value));\r\n        },\r\n        changeLoading() {\r\n            dispatch({\r\n                type: actionTypes.CHANGE_LOADING\r\n            })\r\n        }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HouseNews);\r\n"],"sourceRoot":""}